{"version":3,"sources":["../src/guard/download.param.guard.ts"],"names":[],"mappings":";;;;;;;;AAAA,2CAAqF;AAIrF,IAAa,kBAAkB,GAA/B;IACI,WAAW,CAAC,GAAG,EAAE,OAAyB;QACtC,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;QAC7C,IAAI,CAAC,UAAU,EAAE;YACb,MAAM,IAAI,sBAAa,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;SAClD;QACD,IAAI,CAAC,QAAQ,EAAE;YACX,MAAM,IAAI,sBAAa,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;SAChD;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ,CAAA;AAXY,kBAAkB;IAD9B,cAAK,EAAE;GACK,kBAAkB,CAW9B;AAXY,gDAAkB","file":"download.param.guard.js","sourcesContent":["import { Guard, CanActivate, ExecutionContext, HttpException } from \"@nestjs/common\";\nimport { Observable } from \"rxjs/Observable\";\n\n@Guard()\nexport class DownloadParamGuard implements CanActivate {\n    canActivate(req, context: ExecutionContext): boolean | Promise<boolean> | Observable<boolean> {\n        const { bucketName, fileName } = req.headers;\n        if (!bucketName) {\n            throw new HttpException(\"缺少参数bucketName\", 400);\n        }\n        if (!fileName) {\n            throw new HttpException(\"缺少参数fileName\", 400);\n        }\n        return true;\n    }\n}\n"]}