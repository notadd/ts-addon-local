{"version":3,"sources":["../src/model/image.entity.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,qCAAuE;AACvE,mDAA+C;AAC/C,mDAAyC;AAKzC,IAAa,KAAK,GAAlB,WAAmB,SAAQ,4BAAY;CAmBtC,CAAA;AAhBG;IADC,gBAAM,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oCACb;AAGd;IADC,gBAAM,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qCACZ;AAGf;IADC,gBAAM,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;uCACV;AASjB;IAPC,mBAAS,CAAC,IAAI,CAAC,EAAE,CAAC,sBAAM,EAAE,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE;QAChD,OAAO,EAAE,KAAK;QACd,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,KAAK;QACX,KAAK,EAAE,KAAK;KACf,CAAC;IACD,oBAAU,EAAE;8BACL,sBAAM;qCAAC;AAlBN,KAAK;IAHjB,gBAAM,CAAC,OAAO,CAAC;IAEf,eAAK,CAAC,gBAAgB,EAAE,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;GACnD,KAAK,CAmBjB;AAnBY,sBAAK","file":"image.entity.js","sourcesContent":["import { Column, Entity, Index, JoinColumn, ManyToOne } from \"typeorm\";\nimport { AbstractFile } from \"./abstract.file\";\nimport { Bucket } from \"./bucket.entity\";\n\n@Entity(\"image\")\n// 同一空间下name不能重复，创建唯一性约束\n@Index(\"name_bucket_id\", [\"name\", \"bucketId\"], { unique: true })\nexport class Image extends AbstractFile {\n\n    @Column({ nullable: true })\n    width: number;\n\n    @Column({ nullable: true })\n    height: number;\n\n    @Column({ nullable: true })\n    bucketId: number;\n\n    @ManyToOne(type => Bucket, bucket => bucket.images, {\n        cascade: false,\n        nullable: false,\n        lazy: false,\n        eager: false\n    })\n    @JoinColumn()\n    bucket: Bucket;\n}\n"]}