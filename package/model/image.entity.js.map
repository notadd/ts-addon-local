{"version":3,"sources":["../src/model/image.entity.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,qCAAuE;AACvE,mDAA+C;AAC/C,mDAAyC;AAOzC,IAAa,KAAK,GAAlB,WAAmB,SAAQ,4BAAY;CA6BtC,CAAA;AAzBG;IAHC,gBAAM,CAAC;QACJ,QAAQ,EAAE,IAAI;KACjB,CAAC;;oCACY;AAKd;IAHC,gBAAM,CAAC;QACJ,QAAQ,EAAE,IAAI;KACjB,CAAC;;qCACa;AAKf;IAHC,gBAAM,CAAC;QACJ,QAAQ,EAAE,IAAI;KACjB,CAAC;;uCACe;AAcjB;IAZC,mBAAS,CACN,IAAI,CAAC,EAAE,CAAC,sBAAM,EACd,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,EACvB;QACI,aAAa,EAAE,KAAK;QACpB,aAAa,EAAE,KAAK;QACpB,aAAa,EAAE,KAAK;QACpB,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,KAAK;KACd,CACJ;IACA,oBAAU,EAAE;8BACL,sBAAM;qCAAC;AA5BN,KAAK;IALjB,gBAAM,CAAC;QACJ,IAAI,EAAE,OAAO;KAChB,CAAC;IAED,eAAK,CAAC,gBAAgB,EAAE,CAAE,MAAM,EAAE,UAAU,CAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;GACrD,KAAK,CA6BjB;AA7BY,sBAAK","file":"image.entity.js","sourcesContent":["import { Column, Entity, Index, JoinColumn, ManyToOne } from \"typeorm\";\nimport { AbstractFile } from \"./abstract.file\";\nimport { Bucket } from \"./bucket.entity\";\n\n@Entity({\n    name: \"image\",\n})\n// 同一空间下name不能重复，创建唯一性约束\n@Index(\"name_bucket_id\", [ \"name\", \"bucketId\" ], { unique: true })\nexport class Image extends AbstractFile {\n    @Column({\n        nullable: true,\n    })\n    width: number;\n\n    @Column({\n        nullable: true,\n    })\n    height: number;\n\n    @Column({\n        nullable: true,\n    })\n    bucketId: number;\n\n    @ManyToOne(\n        type => Bucket,\n        bucket => bucket.images,\n        {\n            cascadeInsert: false,\n            cascadeRemove: false,\n            cascadeUpdate: false,\n            nullable: false,\n            lazy: false,\n        },\n    )\n    @JoinColumn()\n    bucket: Bucket;\n}\n"]}