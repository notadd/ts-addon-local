{"version":3,"sources":["../src/model/bucket.entity.ts"],"names":[],"mappings":"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","file":"bucket.entity.js","sourcesContent":["import { Column, Entity, OneToMany, OneToOne, PrimaryColumn } from \"typeorm\";\nimport { AudioConfig } from \"./audio.config.entity\";\nimport { Audio } from \"./audio.entity\";\nimport { Document } from \"./document.entity\";\nimport { File } from \"./file.entity\";\nimport { ImageConfig } from \"./image.config.entity\";\nimport { Image } from \"./image.entity\";\nimport { VideoConfig } from \"./video.config.entity\";\nimport { Video } from \"./video.entity\";\n\n@Entity(\"bucket\")\nexport class Bucket {\n\n    // 主键，需要设置插入，1默认为公有空间配置，2默认为私有空间配置\n    @PrimaryColumn()\n    id: number;\n\n    // 公有还是私有空间，值为public、private\n    @Column({\n        length: 20,\n        nullable: false,\n        unique: true,\n    })\n    publicOrPrivate: string;\n\n    // 此空间下所有文件都存储于这个目录里,与虚拟目录无关\n    @Column({\n        length: 20,\n        nullable: false,\n    })\n    name: string;\n\n    // token密钥\n    @Column({\n        length: 250,\n        nullable: true,\n    })\n    tokenSecretKey: string;\n\n    // token过期时间，单位秒\n    @Column({ nullable: true })\n    tokenExpire: number;\n\n    /*\n    这里lazy:false的意思不是每个Bucket查询出来的时候就会包含imageConfig\n    它的意思只是在于获取的属性是否是Promise，而要查询出来的Bucket包含imageConfig，必须使用find({relation:xxxx})\n    */\n    @OneToOne(type => ImageConfig, imageConfig => imageConfig.bucket, {\n        cascade: [\"insert\"],\n        lazy: false,\n        eager: false\n    })\n    imageConfig: ImageConfig;\n\n    @OneToOne(type => AudioConfig, audioConfig => audioConfig.bucket, {\n        cascade: [\"insert\"],\n        lazy: false,\n        eager: false\n    })\n    audioConfig: AudioConfig;\n\n    @OneToOne(type => VideoConfig, videoConfig => videoConfig.bucket, {\n        cascade: [\"insert\"],\n        lazy: false,\n        eager: false\n    })\n    videoConfig: VideoConfig;\n\n    @OneToMany(type => File, file => file.bucket, {\n        cascade: [\"insert\"],\n        lazy: false,\n        eager: false\n    })\n    files: Array<File>;\n\n    @OneToMany(type => Image, image => image.bucket, {\n        cascade: [\"insert\"],\n        lazy: false,\n        eager: false,\n    })\n    images: Array<Image>;\n\n    @OneToMany(type => Audio, audio => audio.bucket, {\n        cascade: [\"insert\"],\n        lazy: false,\n        eager: false\n    })\n    audios: Array<Audio>;\n\n    @OneToMany(type => Video, video => video.bucket, {\n        cascade: [\"insert\"],\n        lazy: false,\n        eager: false\n    })\n    videos: Array<Video>;\n\n    @OneToMany(type => Document, document => document.bucket, {\n        cascade: [\"insert\"],\n        lazy: false,\n        eager: false\n    })\n    documents: Array<Document>;\n}\n"]}